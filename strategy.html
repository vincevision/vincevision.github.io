<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>HTF Range Donchian Mean-Reversion Strategy Checklist</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg: #0b0f19;
      --bg-alt: #131827;
      --card-bg: #181e30;
      --accent: #3aa9ff;
      --accent-soft: rgba(58,169,255,0.2);
      --accent-strong: #00e18c;
      --text: #f5f7ff;
      --muted: #9aa2c0;
      --danger: #ff5a7a;
      --border: #252b3d;
      --font-main: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: var(--font-main);
      background: radial-gradient(circle at top, #1b2340 0, #050710 55%, #020308 100%);
      color: var(--text);
      line-height: 1.5;
      padding: 16px;
    }

    main {
      max-width: 1100px;
      margin: 0 auto 40px auto;
    }

    header {
      max-width: 1100px;
      margin: 0 auto 24px auto;
      padding: 16px 20px;
      border-radius: 10px;
      background: linear-gradient(135deg, rgba(58,169,255,0.15), rgba(0,225,140,0.05));
      border: 1px solid rgba(58,169,255,0.5);
      box-shadow: 0 12px 28px rgba(0,0,0,0.4);
    }

    header h1 {
      font-size: 1.6rem;
      margin-bottom: 6px;
    }

    header p {
      color: var(--muted);
      font-size: 0.95rem;
    }

    h2 {
      font-size: 1.2rem;
      margin-bottom: 8px;
    }

    h3 {
      font-size: 1rem;
      margin-bottom: 4px;
    }

    section {
      margin-bottom: 18px;
    }

    .card {
      background: var(--card-bg);
      border-radius: 10px;
      border: 1px solid var(--border);
      padding: 14px 16px;
      box-shadow: 0 10px 22px rgba(0,0,0,0.35);
    }

    .card + .card {
      margin-top: 10px;
    }

    .tagline {
      font-size: 0.88rem;
      color: var(--muted);
      margin-top: 4px;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      font-size: 0.78rem;
      padding: 2px 8px;
      border-radius: 999px;
      background: rgba(0,0,0,0.2);
      border: 1px solid rgba(255,255,255,0.08);
      margin-right: 6px;
      color: var(--muted);
    }

    .pill strong {
      color: var(--accent);
      margin-left: 3px;
    }

    ul.simple-list {
      margin-left: 16px;
      margin-top: 6px;
      color: var(--muted);
      font-size: 0.92rem;
    }

    ul.simple-list li {
      margin-bottom: 3px;
    }

    /* Checklist layout */

    .checklist-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 8px;
      gap: 6px;
    }

    .checklist-title {
      font-size: 1.02rem;
      font-weight: 600;
    }

    .progress-pill {
      font-size: 0.78rem;
      padding: 2px 8px;
      border-radius: 999px;
      border: 1px solid var(--border);
      color: var(--muted);
      background: rgba(0,0,0,0.2);
      min-width: 80px;
      text-align: center;
    }

    .progress-pill.complete {
      border-color: var(--accent-strong);
      color: var(--accent-strong);
      background: rgba(0,225,140,0.08);
    }

    .reset-btn {
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.03);
      color: var(--muted);
      font-size: 0.78rem;
      padding: 3px 8px;
      cursor: pointer;
      transition: all 0.15s ease;
    }

    .reset-btn:hover {
      border-color: var(--accent);
      color: var(--accent);
      background: rgba(58,169,255,0.08);
    }

    .checklist {
      margin-top: 4px;
    }

    .checklist ul {
      list-style: none;
    }

    .checklist li {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      margin-bottom: 6px;
      padding: 4px 6px;
      border-radius: 6px;
      transition: background 0.1s ease, border-color 0.1s ease;
      border: 1px solid transparent;
    }

    .checklist li.checked {
      background: rgba(0,225,140,0.04);
      border-color: rgba(0,225,140,0.35);
    }

    .checklist label {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      cursor: pointer;
      width: 100%;
      font-size: 0.9rem;
      color: var(--text);
    }

    .checklist small {
      color: var(--muted);
      font-size: 0.8rem;
      display: block;
      margin-top: 2px;
    }

    .step-checkbox {
      margin-top: 3px;
      accent-color: var(--accent);
    }

    .mode-toggle {
      display: inline-flex;
      border-radius: 999px;
      border: 1px solid var(--border);
      overflow: hidden;
      margin-bottom: 10px;
      background: rgba(0,0,0,0.2);
    }

    .mode-btn {
      font-size: 0.85rem;
      padding: 4px 12px;
      border: none;
      background: transparent;
      color: var(--muted);
      cursor: pointer;
      transition: all 0.15s ease;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .mode-btn.active {
      background: var(--accent-soft);
      color: var(--accent);
    }

    .mode-btn span.dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: var(--muted);
    }
    .mode-btn.active span.dot {
      background: var(--accent);
    }

    .trade-checklist {
      margin-top: 6px;
    }

    .hidden {
      display: none !important;
    }

    .note {
      font-size: 0.82rem;
      color: var(--muted);
      margin-top: 4px;
    }

    .highlight {
      color: var(--accent-strong);
      font-weight: 600;
    }

    .danger-text {
      color: var(--danger);
      font-size: 0.82rem;
      margin-top: 3px;
    }

    @media (max-width: 720px) {
      header {
        padding: 12px 14px;
      }
      .checklist-header {
        flex-direction: column;
        align-items: flex-start;
      }
      .reset-btn {
        margin-top: 2px;
      }
    }
  </style>
</head>
<body>
<header>
  <h1>HTF Range Donchian Mean‑Reversion – Consistency Checklist</h1>
  <p>
    This page helps you execute your strategy the same way every time:
    mark the higher‑timeframe (HTF) high/low, only trade when the lower‑TF midband is inside that range,
    and confirm entries with MACD, Donchian outer band tap, MA crossover, and Stoch RSI.
  </p>
  <div class="tagline">
    Suggested example: <span class="pill">HTF: <strong>4H</strong></span>
    <span class="pill">LTF: <strong>15m</strong></span>
    <span class="pill">Donchian: <strong>20</strong></span>
  </div>
</header>

<main>

  <!-- Strategy explanation -->
  <section class="card">
    <h2>Strategy Overview</h2>
    <p class="tagline">
      Mean‑reversion back to the midband, inside the previous higher‑timeframe candle’s range, using Donchian channels, Stoch RSI, 3/5 MA cross, and MACD confirmation.
    </p>

    <h3>Concept</h3>
    <ul class="simple-list">
      <li>Use the <strong>previous HTF candle</strong> (e.g. 4H) as a range: its high and low create a “box”.</li>
      <li>On the lower timeframe (e.g. 15m), trade only when the <strong>Donchian midband</strong> lies inside that HTF box.</li>
      <li>Fade extremes back toward the midband:
        <ul class="simple-list">
          <li>Longs from lower part of the HTF range after tapping the <strong>lower Donchian band</strong>.</li>
          <li>Shorts from upper part of the HTF range after tapping the <strong>upper Donchian band</strong>.</li>
        </ul>
      </li>
      <li>Confirm entries with:
        <ul class="simple-list">
          <li><strong>MACD crossover</strong> in the trade direction (LTF).</li>
          <li><strong>3 / 5 MA crossover</strong> for timing.</li>
          <li><strong>Stoch RSI overbought/oversold</strong>, then crossing back.</li>
        </ul>
      </li>
      <li>Stop around HTF high/low, target the midband; only take trades with acceptable R:R.</li>
    </ul>

    <h3>Indicators & Settings</h3>
    <ul class="simple-list">
      <li><strong>Donchian Channel</strong> on LTF
        <ul class="simple-list">
          <li>Length: 20 (adjust if needed).</li>
          <li>Use upper, lower, and midband = (upper + lower) / 2.</li>
        </ul>
      </li>
      <li><strong>Moving Averages</strong> on LTF
        <ul class="simple-list">
          <li>3‑period EMA (fast).</li>
          <li>5‑period EMA (slow).</li>
        </ul>
      </li>
      <li><strong>Stoch RSI</strong> on LTF
        <ul class="simple-list">
          <li>RSI length: 14; Stoch length: 14; %K: 3; %D: 3.</li>
          <li>Overbought: 80; Oversold: 20.</li>
        </ul>
      </li>
      <li><strong>MACD</strong>
        <ul class="simple-list">
          <li>Standard (slower): <strong>12, 26, 9</strong></li>
          <li>Early confirmation (recommended): <strong>8, 21, 5</strong></li>
          <li>Rule: for entry, MACD line must have <strong>crossed the signal line</strong> in your trade direction on the LTF.
          </li>
        </ul>
      </li>
    </ul>

    <h3>Basic Flow</h3>
    <ul class="simple-list">
      <li>On HTF: wait for candle close → mark previous high & low.</li>
      <li>On LTF: only trade if Donchian midband is inside that HTF range.</li>
      <li>Then:
        <ul class="simple-list">
          <li><strong>Longs</strong>: lower third of HTF range + tap lower Donchian + Stoch RSI oversold then up + 3/5 MA bull cross + MACD bull cross.</li>
          <li><strong>Shorts</strong>: upper third of HTF range + tap upper Donchian + Stoch RSI overbought then down + 3/5 MA bear cross + MACD bear cross.</li>
        </ul>
      </li>
      <li>Stop: near HTF high/low (or LTF swing) with fixed % risk.</li>
      <li>Target: Donchian midband (optionally partials + runner).</li>
    </ul>
  </section>

  <!-- Checklists -->
  <section class="card">
    <div class="checklist-header">
      <div class="checklist-title">Execution Checklists</div>
      <div class="mode-toggle">
        <button class="mode-btn active" data-mode="long">
          <span class="dot"></span> Long Setup
        </button>
        <button class="mode-btn" data-mode="short">
          <span class="dot"></span> Short Setup
        </button>
      </div>
    </div>
    <p class="note">Use this every time you consider a trade. Don’t skip boxes just because a setup “looks good”.</p>

    <!-- HTF checklist -->
    <div id="htf-checklist" class="checklist" data-group="htf">
      <div class="checklist-header">
        <div class="checklist-title">Step 1 – Higher Timeframe (HTF) Preparation</div>
        <div class="progress-pill" id="progress-htf">0 / 0</div>
        <button class="reset-btn" data-group="htf">Reset</button>
      </div>
      <ul>
        <li>
          <label>
            <input type="checkbox" class="step-checkbox" data-group="htf" />
            <span>
              Mark the <strong>previous HTF candle high</strong> and <strong>low</strong> on your LTF chart
              <small>Use your chosen HTF (e.g. 4H). Draw two horizontal lines or a box for the previous candle’s high and low.</small>
            </span>
          </label>
        </li>
        <li>
          <label>
            <input type="checkbox" class="step-checkbox" data-group="htf" />
            <span>
              Decide your HTF bias (optional but recommended)
              <small>Check MACD on HTF (8,21,5 or 12,26,9). If MACD is clearly bullish, prefer longs; if clearly bearish, prefer shorts.</small>
            </span>
          </label>
        </li>
        <li>
          <label>
            <input type="checkbox" class="step-checkbox" data-group="htf" />
            <span>
              Confirm you will only trade <span class="highlight">with</span> the HTF bias, not against it
              <small>Example: HTF MACD bullish → you’ll only consider long setups on LTF, and ignore shorts unless bias flips.</small>
            </span>
          </label>
        </li>
        <li>
          <label>
            <input type="checkbox" class="step-checkbox" data-group="htf" />
            <span>
              Check for major scheduled news
              <small>If high‑impact news is imminent for your instrument, either reduce size or skip mean‑reversion trades.</small>
            </span>
          </label>
        </li>
      </ul>
    </div>

    <!-- LTF environment checklist -->
    <div id="env-checklist" class="checklist" data-group="env">
      <div class="checklist-header">
        <div class="checklist-title">Step 2 – Lower Timeframe Environment Check</div>
        <div class="progress-pill" id="progress-env">0 / 0</div>
        <button class="reset-btn" data-group="env">Reset</button>
      </div>
      <ul>
        <li>
          <label>
            <input type="checkbox" class="step-checkbox" data-group="env" />
            <span>
              Donchian midband lies <strong>inside</strong> the HTF high–low range
              <small>If the LTF Donchian midband is outside the previous HTF candle’s high/low, <strong>do not trade</strong> this strategy for this HTF cycle.</small>
            </span>
          </label>
        </li>
        <li>
          <label>
            <input type="checkbox" class="step-checkbox" data-group="env" />
            <span>
              Price is trading <strong>inside or near</strong> the HTF range (not a clear breakout far beyond)
              <small>If price has exploded far beyond the HTF high/low and is not pulling back, treat it as a breakout/trend, not a mean‑reversion environment.</small>
            </span>
          </label>
        </li>
        <li>
          <label>
            <input type="checkbox" class="step-checkbox" data-group="env" />
            <span>
              Volatility is reasonable (not extremely dead, not insane)
              <small>Avoid very tiny candles (no volatility) and extreme spikes. You want normal oscillations around the midband.</small>
            </span>
          </label>
        </li>
      </ul>
    </div>

    <!-- LONG checklist -->
    <div id="long-checklist" class="checklist trade-checklist" data-group="long">
      <div class="checklist-header">
        <div class="checklist-title">Step 3 – Long Setup Checklist (LTF)</div>
        <div class="progress-pill" id="progress-long">0 / 0</div>
        <button class="reset-btn" data-group="long">Reset</button>
      </div>
      <ul>
        <li>
          <label>
            <input type="checkbox" class="step-checkbox" data-group="long" />
            <span>
              Price is in the <strong>lower part</strong> of the HTF range and near the <strong>lower Donchian band</strong>
              <small>Ideally in the bottom ~⅓ of the HTF box and tapping or slightly piercing the LTF lower Donchian band.</small>
            </span>
          </label>
        </li>
        <li>
          <label>
            <input type="checkbox" class="step-checkbox" data-group="long" />
            <span>
              Stoch RSI is <strong>oversold</strong> and has crossed back up
              <small>%K and %D below ~20, then %K crosses above %D and turns up. This shows downside exhaustion.</small>
            </span>
          </label>
        </li>
        <li>
          <label>
            <input type="checkbox" class="step-checkbox" data-group="long" />
            <span>
              3‑EMA has crossed <strong>above</strong> 5‑EMA on the LTF
              <small>Short‑term MA crossover in your direction for timing the entry.</small>
            </span>
          </label>
        </li>
        <li>
          <label>
            <input type="checkbox" class="step-checkbox" data-group="long" />
            <span>
              MACD bullish crossover on LTF
              <small>MACD line has crossed above the signal line. For earlier confirmation, use MACD <strong>8, 21, 5</strong>; otherwise standard 12, 26, 9.</small>
            </span>
          </label>
        </li>
        <li>
          <label>
            <input type="checkbox" class="step-checkbox" data-group="long" />
            <span>
              Target midband is above current price and inside HTF range
              <small>Visually check that the Donchian midband sits between the HTF high and low, and gives enough room for profit.</small>
            </span>
          </label>
        </li>
        <li>
          <label>
            <input type="checkbox" class="step-checkbox" data-group="long" />
            <span>
              R:R is acceptable (ideally ≥ 1.5 : 1)
              <small>Distance from entry to stop (near HTF low / LTF swing low) vs. distance from entry to midband. If R:R is poor, skip the trade.</small>
            </span>
          </label>
        </li>
      </ul>
    </div>

    <!-- SHORT checklist -->
    <div id="short-checklist" class="checklist trade-checklist hidden" data-group="short">
      <div class="checklist-header">
        <div class="checklist-title">Step 3 – Short Setup Checklist (LTF)</div>
        <div class="progress-pill" id="progress-short">0 / 0</div>
        <button class="reset-btn" data-group="short">Reset</button>
      </div>
      <ul>
        <li>
          <label>
            <input type="checkbox" class="step-checkbox" data-group="short" />
            <span>
              Price is in the <strong>upper part</strong> of the HTF range and near the <strong>upper Donchian band</strong>
              <small>Ideally in the top ~⅓ of the HTF box and tapping or slightly piercing the LTF upper Donchian band.</small>
            </span>
          </label>
        </li>
        <li>
          <label>
            <input type="checkbox" class="step-checkbox" data-group="short" />
            <span>
              Stoch RSI is <strong>overbought</strong> and has crossed back down
              <small>%K and %D above ~80, then %K crosses below %D and turns down. This shows upside exhaustion.</small>
            </span>
          </label>
        </li>
        <li>
          <label>
            <input type="checkbox" class="step-checkbox" data-group="short" />
            <span>
              3‑EMA has crossed <strong>below</strong> 5‑EMA on the LTF
              <small>Short‑term MA crossover in your direction for timing the entry.</small>
            </span>
          </label>
        </li>
        <li>
          <label>
            <input type="checkbox" class="step-checkbox" data-group="short" />
            <span>
              MACD bearish crossover on LTF
              <small>MACD line has crossed below the signal line. For earlier confirmation, use MACD <strong>8, 21, 5</strong>; otherwise 12, 26, 9.</small>
            </span>
          </label>
        </li>
        <li>
          <label>
            <input type="checkbox" class="step-checkbox" data-group="short" />
            <span>
              Target midband is below current price and inside HTF range
              <small>Visually check that the Donchian midband sits between the HTF high and low, and offers enough profit distance.</small>
            </span>
          </label>
        </li>
        <li>
          <label>
            <input type="checkbox" class="step-checkbox" data-group="short" />
            <span>
              R:R is acceptable (ideally ≥ 1.5 : 1)
              <small>Distance from entry to stop (near HTF high / LTF swing high) vs. distance from entry to midband. If R:R is poor, skip the trade.</small>
            </span>
          </label>
        </li>
      </ul>
    </div>

    <!-- Risk / discipline checklist -->
    <div id="risk-checklist" class="checklist" data-group="risk">
      <div class="checklist-header">
        <div class="checklist-title">Step 4 – Risk & Discipline</div>
        <div class="progress-pill" id="progress-risk">0 / 0</div>
        <button class="reset-btn" data-group="risk">Reset</button>
      </div>
      <ul>
        <li>
          <label>
            <input type="checkbox" class="step-checkbox" data-group="risk" />
            <span>
              Risk per trade is within your plan (e.g. 0.5–1% of equity)
              <small>Position size = (account risk) ÷ (entry price − stop price). Do not guess size.</small>
            </span>
          </label>
        </li>
        <li>
          <label>
            <input type="checkbox" class="step-checkbox" data-group="risk" />
            <span>
              Stop loss is placed just beyond a logical invalidation level
              <small>For longs: below HTF low or clear swing low. For shorts: above HTF high or clear swing high.</small>
            </span>
          </label>
        </li>
        <li>
          <label>
            <input type="checkbox" class="step-checkbox" data-group="risk" />
            <span>
              Take‑profit plan is defined before entry
              <small>At least: midband target defined. Optionally: partial exit at midband, runner with trailed stop.</small>
            </span>
          </label>
        </li>
        <li>
          <label>
            <input type="checkbox" class="step-checkbox" data-group="risk" />
            <span>
              This trade does not violate your daily loss / trade limit
              <small>If you hit your daily loss cap or exceeded number of trades in your plan, you skip this trade.</small>
            </span>
          </label>
        </li>
        <li>
          <label>
            <input type="checkbox" class="step-checkbox" data-group="risk" />
            <span>
              Emotion check: no revenge trading, no FOMO
              <small>If you just had a big loss or big win, confirm you’re not trading emotionally. If in doubt, skip.</small>
            </span>
          </label>
        </li>
      </ul>
      <p class="danger-text">Rule: if any critical box above is unchecked, you either reduce size or skip the trade.</p>
    </div>

  </section>
</main>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const checkboxes = document.querySelectorAll('.step-checkbox');
    const progressPills = {
      htf: document.getElementById('progress-htf'),
      env: document.getElementById('progress-env'),
      long: document.getElementById('progress-long'),
      short: document.getElementById('progress-short'),
      risk: document.getElementById('progress-risk')
    };

    function updateGroupProgress(group) {
      const groupCheckboxes = document.querySelectorAll('.step-checkbox[data-group="' + group + '"]');
      const total = groupCheckboxes.length;
      let checked = 0;
      groupCheckboxes.forEach(cb => {
        const li = cb.closest('li');
        if (cb.checked) {
          checked++;
          if (li) li.classList.add('checked');
        } else {
          if (li) li.classList.remove('checked');
        }
      });
      const pill = progressPills[group];
      if (pill) {
        pill.textContent = checked + ' / ' + total;
        if (total > 0 && checked === total) {
          pill.classList.add('complete');
        } else {
          pill.classList.remove('complete');
        }
      }
    }

    function updateAllProgress() {
      ['htf', 'env', 'long', 'short', 'risk'].forEach(updateGroupProgress);
    }

    checkboxes.forEach(cb => {
      cb.addEventListener('change', function () {
        const group = cb.getAttribute('data-group');
        if (group) updateGroupProgress(group);
      });
    });

    const resetButtons = document.querySelectorAll('.reset-btn');
    resetButtons.forEach(btn => {
      btn.addEventListener('click', function () {
        const group = btn.getAttribute('data-group');
        if (!group) return;
        const groupCheckboxes = document.querySelectorAll('.step-checkbox[data-group="' + group + '"]');
        groupCheckboxes.forEach(cb => {
          cb.checked = false;
        });
        updateGroupProgress(group);
      });
    });

    // Mode toggle (long / short)
    const modeButtons = document.querySelectorAll('.mode-btn');
    const longChecklist = document.getElementById('long-checklist');
    const shortChecklist = document.getElementById('short-checklist');

    modeButtons.forEach(btn => {
      btn.addEventListener('click', function () {
        const mode = btn.getAttribute('data-mode');
        modeButtons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');

        if (mode === 'long') {
          longChecklist.classList.remove('hidden');
          shortChecklist.classList.add('hidden');
        } else {
          shortChecklist.classList.remove('hidden');
          longChecklist.classList.add('hidden');
        }
      });
    });

    updateAllProgress();
  });
</script>
</body>
</html>
